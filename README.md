# World-Nav ğŸ“š

ä¸€ä¸ªåŠŸèƒ½å®Œæ•´çš„ç°ä»£åŒ–ç½‘é¡µå¯¼èˆªç³»ç»Ÿï¼Œæ”¯æŒä¹¦ç­¾ç®¡ç†ã€æ™ºèƒ½æœç´¢ã€åˆ†ç±»ç­›é€‰ã€ç½®é¡¶åŠŸèƒ½å’Œå®‰å…¨çš„ç®¡ç†åå°ã€‚

![Version](https://img.shields.io/badge/version-2.0.0-blue)
![License](https://img.shields.io/badge/license-MIT-green)
![Platform](https://img.shields.io/badge/platform-Cloudflare-orange)

## âœ¨ æ ¸å¿ƒç‰¹æ€§

- ğŸ” **æ™ºèƒ½æœç´¢** - å®æ—¶æ¨¡ç³Šæœç´¢ï¼Œæ”¯æŒåç§°/URL/æè¿°
- ğŸ“Œ **ä¹¦ç­¾ç½®é¡¶** - é‡è¦ä¹¦ç­¾ä¼˜å…ˆæ˜¾ç¤ºï¼ˆæœ€å¤š4ä¸ªï¼‰
- ğŸ¨ **ç°ä»£è®¾è®¡** - Bootstrap 5 + è‡ªå®šä¹‰æ ·å¼ï¼Œå“åº”å¼å¸ƒå±€
- ğŸ” **å®‰å…¨ç™»å½•** - MD5+Salt åŠ å¯†ï¼ŒToken æŒä¹…åŒ–
- ğŸš€ **æ— æœåŠ¡å™¨** - Cloudflare Workers + KVï¼Œå…¨çƒåŠ é€Ÿ
- ğŸ“± **ç§»åŠ¨å‹å¥½** - å®Œç¾é€‚é…æ‰‹æœºå’Œå¹³æ¿è®¾å¤‡
- ğŸ¯ **è‡ªåŠ¨å›¾æ ‡** - è‡ªåŠ¨è·å–ç½‘ç«™ Favicon
- ğŸ’¾ **å®æ—¶ä¿å­˜** - æ•°æ®å³æ—¶åŒæ­¥åˆ°äº‘ç«¯

## æŠ€æœ¯æ ˆ

### å‰ç«¯
- **HTML5 + CSS3 + JavaScript (ES6+)**
- **Bootstrap 5.3.8** - UI æ¡†æ¶
- **Bootstrap Icons 1.11.1** - å›¾æ ‡åº“
- **åŸç”Ÿ JavaScript** - æ— æ¡†æ¶ä¾èµ–
- **å“åº”å¼è®¾è®¡** - ç§»åŠ¨ç«¯ä¼˜å…ˆ

### åç«¯
- **Cloudflare Workers** - Edge è®¡ç®—å¹³å°
- **Cloudflare KV** - åˆ†å¸ƒå¼é”®å€¼å­˜å‚¨
- **MD5 åŠ å¯†** - å¯†ç å“ˆå¸Œï¼ˆå­¦ä¹ ç”¨é€”ï¼‰
- **RESTful API** - æ ‡å‡† HTTP æ¥å£

## ğŸ“‹ åŠŸèƒ½æ¸…å•

### ğŸŒ å®¢æˆ·ç«¯ (`index.html`)

#### æ ¸å¿ƒåŠŸèƒ½
- âœ… **ä¹¦ç­¾å±•ç¤º**
  - ç½‘æ ¼å¸ƒå±€ï¼Œå¡ç‰‡å¼è®¾è®¡
  - è‡ªåŠ¨è·å–ç½‘ç«™ Faviconï¼ˆGoogle Favicon APIï¼‰
  - æ— å›¾æ ‡æ—¶æ˜¾ç¤ºé¦–å­—æ¯
  - æ‚¬åœæ˜¾ç¤ºå®Œæ•´æè¿°
  - ç‚¹å‡»æ–°æ ‡ç­¾é¡µæ‰“å¼€
  
- âœ… **æ™ºèƒ½æœç´¢**
  - å®æ—¶æ¨¡ç³Šæœç´¢
  - æ”¯æŒä¹¦ç­¾åç§°æœç´¢
  - æ”¯æŒ URL æœç´¢
  - æ”¯æŒæè¿°æœç´¢
  - å³æ—¶æ˜¾ç¤ºç»“æœ

- âœ… **åˆ†ç±»ç­›é€‰**
  - ä¸‹æ‹‰æ¡†å¿«é€Ÿåˆ‡æ¢
  - æ˜¾ç¤ºæ‰€æœ‰åˆ†ç±»
  - ä¸æœç´¢åŠŸèƒ½è”åŠ¨

- âœ… **åˆ†é¡µæ˜¾ç¤º**
  - æ¯é¡µæ˜¾ç¤º 12 ä¸ªä¹¦ç­¾
  - æ™ºèƒ½åˆ†é¡µå™¨
  - æ˜¾ç¤ºæ€»æ•°ç»Ÿè®¡
  - é¡µç è·³è½¬

- âœ… **ç½®é¡¶åŠŸèƒ½**
  - ç½®é¡¶ä¹¦ç­¾ä¼˜å…ˆæ˜¾ç¤º
  - ç»¿è‰²è¾¹æ¡†é«˜äº®
  - ğŸ“Œ ç½®é¡¶æ ‡è®°
  - è‡ªåŠ¨æ’åºï¼ˆç½®é¡¶åœ¨å‰ï¼‰

- âœ… **å…¶ä»–åŠŸèƒ½**
  - å®æ—¶æ—¶é’Ÿï¼ˆå¹´-æœˆ-æ—¥ æ—¶:åˆ†:ç§’ï¼‰
  - å“åº”å¼è®¾è®¡
  - ç§»åŠ¨ç«¯ä¼˜åŒ–
  - å¹³æ»‘åŠ¨ç”»æ•ˆæœ

### ğŸ› ï¸ ç®¡ç†åå° (`admin.html`)

#### ç™»å½•ç³»ç»Ÿ
- âœ… **å®‰å…¨ç™»å½•**
  - MD5 + Salt åŠ å¯†éªŒè¯
  - Token æŒä¹…åŒ–ï¼ˆlocalStorageï¼‰
  - è‡ªåŠ¨ç™»å½•ï¼ˆè®°ä½çŠ¶æ€ï¼‰
  - å¯†ç æ˜¾ç¤º/éšè—åˆ‡æ¢
  - é€€å‡ºç™»å½•åŠŸèƒ½

#### ä¹¦ç­¾ç®¡ç†
- âœ… **CRUD æ“ä½œ**
  - â• æ·»åŠ ä¹¦ç­¾
  - âœï¸ ç¼–è¾‘ä¹¦ç­¾
  - ğŸ—‘ï¸ åˆ é™¤ä¹¦ç­¾
  - ğŸ“‹ åˆ—è¡¨å±•ç¤º

- âœ… **é«˜çº§åŠŸèƒ½**
  - ğŸ” å®æ—¶æ¨¡ç³Šæœç´¢ï¼ˆåç§°/URL/æè¿°ï¼‰
  - ğŸ·ï¸ åˆ†ç±»ç­›é€‰ä¸‹æ‹‰æ¡†
  - ğŸ“„ åˆ†é¡µæ˜¾ç¤ºï¼ˆ10 æ¡/é¡µï¼‰
  - ğŸ“Œ ä¹¦ç­¾ç½®é¡¶ï¼ˆæœ€å¤š 4 ä¸ªï¼‰
  - âš¡ ä¸€é”®åˆ‡æ¢ç½®é¡¶çŠ¶æ€
  - ğŸ¨ ç½®é¡¶ä¹¦ç­¾ç»¿è‰²é«˜äº®
  - ğŸ’¡ è‡ªåŠ¨è·å–ç½‘ç«™å›¾æ ‡
  - âš ï¸ ç½®é¡¶æ•°é‡é™åˆ¶æç¤º

#### åˆ†ç±»ç®¡ç†
- âœ… **åˆ†ç±»æ“ä½œ**
  - æ·»åŠ åˆ†ç±»
  - ç¼–è¾‘åˆ†ç±»åç§°
  - åˆ é™¤åˆ†ç±»
  - çº§è”åˆ é™¤å…³è”ä¹¦ç­¾
  - åˆ†ç±»åˆ—è¡¨å±•ç¤º

#### ç³»ç»Ÿè®¾ç½®
- âœ… **å¯†ç ç®¡ç†**
  - ä¿®æ”¹ç®¡ç†å‘˜å¯†ç 
  - ä¿®æ”¹ Salt å€¼
  - å½“å‰å¯†ç éªŒè¯
  - å¯†ç æ˜¾ç¤º/éšè—
  - ä¿®æ”¹åè‡ªåŠ¨é€€å‡º

#### UI/UX ä¼˜åŒ–
- âœ… åœ†è§’è®¾è®¡ï¼ˆ10pxï¼‰
- âœ… ä¸‹æ‹‰æ¡†ç¾åŒ–
- âœ… æœç´¢æ¡†ä¼˜åŒ–
- âœ… æŒ‰é’®æ‚¬åœæ•ˆæœ
- âœ… è¡¨å•éªŒè¯æç¤º
- âœ… å‹å¥½çš„é”™è¯¯ä¿¡æ¯
- âœ… å“åº”å¼å¸ƒå±€

## ğŸ”Œ åç«¯ API

### API æ¥å£åˆ—è¡¨

| æ–¹æ³• | è·¯å¾„ | æè¿° | è®¤è¯ |
|------|------|------|------|
| `GET` | `/api/data` | è·å–æ‰€æœ‰ä¹¦ç­¾å’Œåˆ†ç±» | âŒ å…¬å¼€ |
| `POST` | `/api/login` | ç®¡ç†å‘˜ç™»å½• | âŒ å…¬å¼€ |
| `POST` | `/api/data` | æ›´æ–°ä¹¦ç­¾å’Œåˆ†ç±» | âœ… éœ€è¦ |
| `PUT` | `/api/password` | ä¿®æ”¹å¯†ç å’Œ Salt | âœ… éœ€è¦ |

### æ¥å£è¯¦ç»†è¯´æ˜

#### 1ï¸âƒ£ GET `/api/data`
è·å–æ‰€æœ‰å…¬å¼€æ•°æ®ï¼ˆä¹¦ç­¾å’Œåˆ†ç±»ï¼‰

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```javascript
const response = await fetch('https://your-worker.workers.dev/api/data');
const data = await response.json();
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "bookmarks": [
    {
      "id": 1,
      "categoryId": 1,
      "name": "Google",
      "url": "https://google.com",
      "icon": "https://www.google.com/s2/favicons?domain=google.com&sz=64",
      "desc": "å…¨çƒæœ€å¤§çš„æœç´¢å¼•æ“",
      "pinned": false
    }
  ],
  "categories": [
    {
      "id": 1,
      "name": "å¸¸ç”¨"
    }
  ]
}
```

#### 2ï¸âƒ£ POST `/api/login`
ç®¡ç†å‘˜ç™»å½•éªŒè¯

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```javascript
const response = await fetch('https://your-worker.workers.dev/api/login', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({ password: 'admin' })
});
const data = await response.json();
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true,
  "token": "f6fdffe48c908deb0f4c3bd36c032e72",
  "salt": "admin"
}
```

#### 3ï¸âƒ£ POST `/api/data`
æ›´æ–°ä¹¦ç­¾å’Œåˆ†ç±»æ•°æ®ï¼ˆéœ€è¦è®¤è¯ï¼‰

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```javascript
const response = await fetch('https://your-worker.workers.dev/api/data', {
  method: 'POST',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'your-token-here'
  },
  body: JSON.stringify({
    bookmarks: [...],
    categories: [...]
  })
});
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true
}
```

#### 4ï¸âƒ£ PUT `/api/password`
ä¿®æ”¹ç®¡ç†å‘˜å¯†ç å’Œ Saltï¼ˆéœ€è¦è®¤è¯ï¼‰

**è¯·æ±‚ç¤ºä¾‹ï¼š**
```javascript
const response = await fetch('https://your-worker.workers.dev/api/password', {
  method: 'PUT',
  headers: {
    'Content-Type': 'application/json',
    'Authorization': 'your-token-here'
  },
  body: JSON.stringify({
    currentPassword: 'admin',
    newPassword: '123456',
    newSalt: 'newsalt'
  })
});
```

**å“åº”ç¤ºä¾‹ï¼š**
```json
{
  "success": true
}
```

### ğŸ“¦ æ•°æ®ç»“æ„

#### Bookmarkï¼ˆä¹¦ç­¾å¯¹è±¡ï¼‰
```typescript
interface Bookmark {
  id: number;              // å”¯ä¸€æ ‡è¯†
  categoryId: number;      // æ‰€å±åˆ†ç±» ID
  name: string;            // ä¹¦ç­¾åç§°
  url: string;             // ç½‘å€
  icon: string;            // å›¾æ ‡ URLï¼ˆè‡ªåŠ¨è·å–ï¼‰
  desc: string;            // æè¿°
  pinned: boolean;         // æ˜¯å¦ç½®é¡¶
}
```

#### Categoryï¼ˆåˆ†ç±»å¯¹è±¡ï¼‰
```typescript
interface Category {
  id: number;              // å”¯ä¸€æ ‡è¯†
  name: string;            // åˆ†ç±»åç§°
}
```

#### Authï¼ˆè®¤è¯å¯¹è±¡ï¼‰
```typescript
interface Auth {
  passwordHash: string;    // MD5(password + salt)
  salt: string;            // ç›å€¼
}
```

#### å®Œæ•´æ•°æ®åº“ç»“æ„
```json
{
  "bookmarks": [Bookmark],
  "categories": [Category],
  "auth": Auth
}
```

### ğŸ” å®‰å…¨æœºåˆ¶

#### å¯†ç åŠ å¯†
- **ç®—æ³•**ï¼šMD5ï¼ˆä»…ç”¨äºå­¦ä¹ ï¼Œç”Ÿäº§ç¯å¢ƒè¯·ä½¿ç”¨ bcryptï¼‰
- **åŠ ç›**ï¼š`MD5(password + salt)`
- **é»˜è®¤å¯†ç **ï¼š`admin`
- **é»˜è®¤ Salt**ï¼š`admin`
- **Hash å€¼**ï¼š`f6fdffe48c908deb0f4c3bd36c032e72`

#### è®¤è¯æµç¨‹
1. ç”¨æˆ·è¾“å…¥å¯†ç 
2. åç«¯è®¡ç®— `MD5(password + salt)`
3. æ¯”è¾ƒè®¡ç®—ç»“æœä¸æ•°æ®åº“ä¸­çš„ `passwordHash`
4. éªŒè¯é€šè¿‡è¿”å› tokenï¼ˆå³ passwordHashï¼‰
5. åç»­è¯·æ±‚æºå¸¦ token åœ¨ `Authorization` header ä¸­

#### CORS é…ç½®
```javascript
const corsHeaders = {
  'Access-Control-Allow-Origin': '*',
  'Access-Control-Allow-Methods': 'GET, POST, PUT, DELETE, OPTIONS',
  'Access-Control-Allow-Headers': 'Content-Type, Authorization'
};
```

#### å›¾æ ‡è·å–
ä½¿ç”¨ Google Favicon API è‡ªåŠ¨è·å–ç½‘ç«™å›¾æ ‡ï¼š
```javascript
icon = `https://www.google.com/s2/favicons?domain=${hostname}&sz=64`;
```

## éƒ¨ç½²æ–¹æ³•

### 1. æœ¬åœ°å¼€å‘

#### å®‰è£…ä¾èµ–
```bash
cd backend
npm install
```

#### å¯åŠ¨åç«¯
```bash
cd backend
npx wrangler dev
```
åç«¯å°†è¿è¡Œåœ¨ `http://localhost:8787`

#### è®¿é—®å‰ç«¯
ç›´æ¥åœ¨æµè§ˆå™¨æ‰“å¼€ï¼š
- å…¬å…±é¡µé¢ï¼š`frontend/index.html`
- ç®¡ç†åå°ï¼š`frontend/admin.html`

**é»˜è®¤ç™»å½•ä¿¡æ¯**ï¼š
- å¯†ç ï¼š`admin`
- Saltï¼š`admin`

### 2. ç”Ÿäº§éƒ¨ç½²ï¼ˆç½‘é¡µç«¯æ“ä½œï¼‰

#### æ­¥éª¤ 1ï¼šéƒ¨ç½²åç«¯åˆ° Cloudflare Workers

1. **ç™»å½• Cloudflare Dashboard**
   - è®¿é—® [https://dash.cloudflare.com](https://dash.cloudflare.com)
   - ç™»å½•æ‚¨çš„è´¦å·

2. **åˆ›å»º Worker**
   - å·¦ä¾§èœå•é€‰æ‹© **Workers & Pages**
   - ç‚¹å‡» **Create application** â†’ **Create Worker**
   - è¾“å…¥åç§°ï¼ˆå¦‚ `world-nav-backend`ï¼‰
   - ç‚¹å‡» **Deploy**

3. **ç¼–è¾‘ Worker ä»£ç **
   - éƒ¨ç½²åç‚¹å‡» **Edit code** æŒ‰é’®
   - åˆ é™¤é»˜è®¤ä»£ç 
   - å¤åˆ¶ `backend/src/worker.js` çš„å…¨éƒ¨å†…å®¹
   - ç²˜è´´åˆ°ç¼–è¾‘å™¨ä¸­
   - ç‚¹å‡»å³ä¸Šè§’ **Save and Deploy**

4. **åˆ›å»º KV å‘½åç©ºé—´**
   - è¿”å› Workers & Pages é¡µé¢
   - å·¦ä¾§èœå•é€‰æ‹© **KV**
   - ç‚¹å‡» **Create a namespace**
   - å‘½åä¸º `WORLD_NAV_KV`
   - ç‚¹å‡» **Add**

5. **ç»‘å®š KV åˆ° Worker**
     ```javascript
     const API_URL = 'https://your-worker.workers.dev/api';
     ```
   - å°† `your-worker.workers.dev` æ›¿æ¢ä¸ºæ‚¨çš„å®é™… Worker URL

2. **æ¨é€ä»£ç åˆ° GitHub**
   ```bash
   git add .
   git commit -m "æ›´æ–° API åœ°å€"
   git push
   ```

3. **åœ¨ Cloudflare Pages éƒ¨ç½²**
   - åœ¨ Cloudflare Dashboardï¼Œé€‰æ‹© **Workers & Pages**
   - ç‚¹å‡» **Create application** â†’ **Pages** â†’ **Connect to Git**
   - é€‰æ‹©æ‚¨çš„ GitHub ä»“åº“
   - æ„å»ºè®¾ç½®ï¼š
     - æ¡†æ¶é¢„è®¾ï¼šNone
     - æ„å»ºå‘½ä»¤ï¼šç•™ç©º
     -éƒ¨ç½²å‘½ä»¤ï¼šecho "No build needed"
     - éç”Ÿäº§åˆ†æ”¯éƒ¨ç½²å‘½ä»¤ï¼šç•™ç©º
     - æ„å»ºè¾“å‡ºç›®å½•ï¼š`frontend`
   - ç‚¹å‡» **Save and Deploy**

4. **è®¿é—®æ‚¨çš„ç½‘ç«™**
   - éƒ¨ç½²å®Œæˆåï¼ŒCloudflare Pages ä¼šæä¾›ä¸€ä¸ª URL
   - è®¿é—®è¯¥ URL å³å¯ä½¿ç”¨æ‚¨çš„å¯¼èˆªç½‘ç«™

### 3. å…¶ä»–éƒ¨ç½²é€‰é¡¹

- **å‰ç«¯**ï¼šå¯éƒ¨ç½²åˆ°ä»»ä½•é™æ€æ‰˜ç®¡æœåŠ¡ï¼ˆVercelã€Netlifyã€GitHub Pages ç­‰ï¼‰
- **åç«¯**ï¼šå¿…é¡»éƒ¨ç½²åˆ° Cloudflare Workersï¼ˆæˆ–ä¿®æ”¹ä»£ç é€‚é…å…¶ä»–å¹³å°ï¼‰

## ğŸ“‚ é¡¹ç›®ç»“æ„

```
world-nav/
â”œâ”€â”€ frontend/                      # å‰ç«¯æ–‡ä»¶
â”‚   â”œâ”€â”€ index.html                # ğŸŒ å®¢æˆ·ç«¯ä¸»é¡µ
â”‚   â”œâ”€â”€ admin.html                # ğŸ› ï¸ ç®¡ç†åå°
â”‚   â”œâ”€â”€ debug.html                # ğŸ› è°ƒè¯•é¡µé¢
â”‚   â”œâ”€â”€ css/
â”‚   â”‚   â””â”€â”€ style.css             # è‡ªå®šä¹‰æ ·å¼
â”‚   â”œâ”€â”€ js/
â”‚   â”‚   â”œâ”€â”€ app.js                # å®¢æˆ·ç«¯é€»è¾‘ï¼ˆæœç´¢/ç­›é€‰/åˆ†é¡µï¼‰
â”‚   â”‚   â”œâ”€â”€ admin.js              # ç®¡ç†ç«¯é€»è¾‘ï¼ˆCRUD/ç™»å½•ï¼‰
â”‚   â”‚   â””â”€â”€ md5.js                # MD5 åŠ å¯†åº“
â”‚   â””â”€â”€ assets/
â”‚       â””â”€â”€ bootstrap/            # Bootstrap 5.3.8 æœ¬åœ°æ–‡ä»¶
â”‚           â”œâ”€â”€ css/
â”‚           â””â”€â”€ js/
â”œâ”€â”€ backend/                       # åç«¯æ–‡ä»¶
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â””â”€â”€ worker.js             # Cloudflare Worker API
â”‚   â”œâ”€â”€ package.json              # ä¾èµ–é…ç½®
â”‚   â””â”€â”€ wrangler.toml             # Worker éƒ¨ç½²é…ç½®
â”œâ”€â”€ db.json                        # åˆå§‹æ•°æ®æ¨¡æ¿
â”œâ”€â”€ README.md                      # ğŸ“– é¡¹ç›®æ–‡æ¡£
â”œâ”€â”€ IMPLEMENTATION_SUMMARY.md      # ğŸ“‹ å®ç°æ€»ç»“
â”œâ”€â”€ FEATURES_COMPARISON.md         # ğŸ”„ åŠŸèƒ½å¯¹æ¯”
â”œâ”€â”€ TESTING_CHECKLIST.md           # âœ… æµ‹è¯•æ¸…å•
â””â”€â”€ QUICK_START.md                 # ğŸš€ å¿«é€Ÿä¸Šæ‰‹
```

### æ ¸å¿ƒæ–‡ä»¶è¯´æ˜

#### å‰ç«¯æ ¸å¿ƒæ–‡ä»¶

**`frontend/index.html`** - å®¢æˆ·ç«¯ä¸»é¡µ
- ä¹¦ç­¾å±•ç¤ºç½‘æ ¼
- æœç´¢å’Œç­›é€‰ç»„ä»¶
- åˆ†é¡µå™¨
- å®æ—¶æ—¶é’Ÿ

**`frontend/admin.html`** - ç®¡ç†åå°
- ç™»å½•ç•Œé¢
- ä¹¦ç­¾ç®¡ç†ï¼ˆCRUDï¼‰
- åˆ†ç±»ç®¡ç†
- ç³»ç»Ÿè®¾ç½®

**`frontend/js/app.js`** - å®¢æˆ·ç«¯é€»è¾‘
```javascript
// ä¸»è¦åŠŸèƒ½
- fetchData()              // ä» API è·å–æ•°æ®
- renderBookmarks()        // æ¸²æŸ“ä¹¦ç­¾å¡ç‰‡
- filterBookmarks()        // æœç´¢å’Œç­›é€‰
- renderPagination()       // åˆ†é¡µæ§åˆ¶
- updateClock()            // å®æ—¶æ—¶é’Ÿ
```

**`frontend/js/admin.js`** - ç®¡ç†ç«¯é€»è¾‘
```javascript
// ä¸»è¦åŠŸèƒ½
- handleLogin()            // ç™»å½•éªŒè¯
- handlePasswordChange()   // ä¿®æ”¹å¯†ç 
- saveBookmark()           // ä¿å­˜ä¹¦ç­¾ï¼ˆè‡ªåŠ¨è·å–å›¾æ ‡ï¼‰
- togglePin()              // åˆ‡æ¢ç½®é¡¶çŠ¶æ€
- filterAndRenderBookmarks() // æœç´¢ç­›é€‰åˆ†é¡µ
- renderAdminPagination()  // ç®¡ç†ç«¯åˆ†é¡µå™¨
```

**`frontend/js/md5.js`** - MD5 åŠ å¯†
```javascript
// çº¯å‰ç«¯ MD5 å®ç°
- md5(string)              // è¿”å› MD5 å“ˆå¸Œå€¼
```

**`frontend/css/style.css`** - è‡ªå®šä¹‰æ ·å¼
```css
/* ä¸»è¦æ ·å¼ */
- ä¹¦ç­¾å¡ç‰‡æ ·å¼
- ç½®é¡¶ä¹¦ç­¾é«˜äº®ï¼ˆç»¿è‰²è¾¹æ¡†ï¼‰
- æœç´¢æ¡†å’Œä¸‹æ‹‰æ¡†ç¾åŒ–
- åˆ†é¡µå™¨æ ·å¼
- å“åº”å¼å¸ƒå±€
- å¯†ç æ˜¾ç¤ºæŒ‰é’®
```

#### åç«¯æ ¸å¿ƒæ–‡ä»¶

**`backend/src/worker.js`** - Cloudflare Worker
```javascript
// API è·¯ç”±å¤„ç†
export default {
  async fetch(request, env, ctx) {
    // OPTIONS è¯·æ±‚ï¼ˆCORS é¢„æ£€ï¼‰
    // GET /api/data        - è·å–æ•°æ®
    // POST /api/login      - ç™»å½•éªŒè¯
    // POST /api/data       - æ›´æ–°æ•°æ®
    // PUT /api/password    - ä¿®æ”¹å¯†ç 
  }
}

// æ ¸å¿ƒå‡½æ•°
- getDb(env)               // ä» KV è¯»å–æ•°æ®åº“
- handleGetData()          // å¤„ç†è·å–æ•°æ®è¯·æ±‚
- handleLogin()            // å¤„ç†ç™»å½•è¯·æ±‚
- handleUpdateData()       // å¤„ç†æ›´æ–°æ•°æ®è¯·æ±‚
- handleUpdatePassword()   // å¤„ç†ä¿®æ”¹å¯†ç è¯·æ±‚
```

**`backend/wrangler.toml`** - Worker é…ç½®
```toml
name = "world-nav-backend"
main = "src/worker.js"
compatibility_date = "2024-01-01"

[[kv_namespaces]]
binding = "WORLD_NAV_KV"
id = "your-kv-namespace-id"
```

#### æ•°æ®æ–‡ä»¶

**`db.json`** - åˆå§‹æ•°æ®æ¨¡æ¿
```json
{
  "bookmarks": [
    {
      "id": 1,
      "categoryId": 1,
      "name": "Google",
      "url": "https://google.com",
      "icon": "",
      "desc": "å…¨çƒæœ€å¤§çš„æœç´¢å¼•æ“",
      "pinned": false
    }
  ],
  "categories": [
    {"id": 1, "name": "å¸¸ç”¨"},
    {"id": 2, "name": "å¼€å‘"},
    {"id": 3, "name": "å·¥å…·"}
  ],
  "auth": {
    "passwordHash": "f6fdffe48c908deb0f4c3bd36c032e72",
    "salt": "admin"
  }
}
```

## âš ï¸ æ³¨æ„äº‹é¡¹

### å®‰å…¨ç›¸å…³
1. **ç«‹å³ä¿®æ”¹é»˜è®¤å¯†ç **
   - é»˜è®¤å¯†ç ï¼š`admin`
   - é¦–æ¬¡ç™»å½•åè¯·åœ¨"ç³»ç»Ÿè®¾ç½®"ä¸­ä¿®æ”¹

2. **MD5 åŠ å¯†è¯´æ˜**
   - âš ï¸ MD5 å·²ä¸å®‰å…¨ï¼Œä»…ç”¨äºå­¦ä¹ å’Œæ¼”ç¤º
   - ç”Ÿäº§ç¯å¢ƒå¼ºçƒˆå»ºè®®ä½¿ç”¨ bcrypt æˆ– Argon2
   - è¯¦è§ [ä¸ºä»€ä¹ˆ MD5 ä¸å®‰å…¨](#ä¸ºä»€ä¹ˆ-md5-ä¸å®‰å…¨)

3. **Token æŒä¹…åŒ–**
   - Token ä¿å­˜åœ¨ localStorage
   - å…³é—­æµè§ˆå™¨åä»ä¿æŒç™»å½•
   - å¦‚éœ€é€€å‡ºè¯·ç‚¹å‡»"é€€å‡ºç™»å½•"

### æ•°æ®ç›¸å…³
4. **æ•°æ®å­˜å‚¨**
   - `db.json` ä»…æ˜¯åˆå§‹æ¨¡æ¿
   - å®é™…æ•°æ®å­˜å‚¨åœ¨ Cloudflare KV
   - KV æ•°æ®å…¨çƒåŒæ­¥ï¼Œå»¶è¿Ÿæä½

5. **æ•°æ®å¤‡ä»½**
   - å»ºè®®å®šæœŸå¯¼å‡ºæ•°æ®å¤‡ä»½
   - å¯é€šè¿‡ Cloudflare Dashboard ç®¡ç† KV æ•°æ®

### éƒ¨ç½²ç›¸å…³
6. **CORS é…ç½®**
   - å·²é…ç½® `Access-Control-Allow-Origin: *`
   - å¦‚éœ€é™åˆ¶æ¥æºï¼Œä¿®æ”¹ worker.js ä¸­çš„ corsHeaders

7. **è‡ªå®šä¹‰åŸŸå**
   - Worker å’Œ Pages éƒ½æ”¯æŒè‡ªå®šä¹‰åŸŸå
   - åœ¨ Cloudflare Dashboard ä¸­é…ç½® DNS

8. **API åœ°å€é…ç½®**
   - å‰ç«¯ä»£ç ä¸­éœ€è¦ä¿®æ”¹ API_URL
   - æ–‡ä»¶ï¼š`frontend/js/app.js` å’Œ `frontend/js/admin.js`
   - æ”¹ä¸ºä½ çš„ Worker URL

### åŠŸèƒ½é™åˆ¶
9. **ç½®é¡¶ä¹¦ç­¾ä¸Šé™**
   - æœ€å¤š 4 ä¸ªç½®é¡¶ä¹¦ç­¾
   - è¶…å‡ºä¼šæç¤ºï¼š"ç½®é¡¶ä¹¦ç­¾å·²æ»¡ï¼Œå¦‚éœ€ç½®é¡¶è¯·å…ˆæ’¤é”€å…¶ä»–ä¹¦ç­¾ç½®é¡¶ï¼"

10. **æµè§ˆå™¨å…¼å®¹æ€§**
    - æ”¯æŒç°ä»£æµè§ˆå™¨ï¼ˆChromeã€Firefoxã€Safariã€Edgeï¼‰
    - éœ€è¦æ”¯æŒ ES6+ è¯­æ³•
    - éœ€è¦æ”¯æŒ localStorage

## ğŸ” ä¸ºä»€ä¹ˆ MD5 ä¸å®‰å…¨

### MD5 çš„é—®é¢˜
- âŒ **ç¢°æ’æ”»å‡»**ï¼šä¸åŒè¾“å…¥å¯äº§ç”Ÿç›¸åŒå“ˆå¸Œ
- âŒ **å½©è™¹è¡¨**ï¼šå¸¸è§å¯†ç çš„ MD5 å·²è¢«æ”¶å½•
- âŒ **è®¡ç®—å¤ªå¿«**ï¼šGPU æ¯ç§’å¯è®¡ç®—æ•°åäº¿æ¬¡
- âŒ **æ— æ³•æŠµæŠ—æš´åŠ›ç ´è§£**

### æ¨èçš„æ›¿ä»£æ–¹æ¡ˆ

#### 1. Bcryptï¼ˆæ¨èï¼‰
```javascript
const bcrypt = require('bcrypt');
const saltRounds = 10;

// åŠ å¯†
const hash = await bcrypt.hash('admin', saltRounds);

// éªŒè¯
const isMatch = await bcrypt.compare('admin', hash);
```

**ä¼˜ç‚¹**ï¼š
- âœ… è‡ªåŠ¨åŠ ç›
- âœ… æ•…æ„è®¾è®¡å¾—æ…¢ï¼ˆæŠµæŠ—æš´åŠ›ç ´è§£ï¼‰
- âœ… å¯é…ç½®å·¥ä½œå› å­
- âœ… å¹¿æ³›ä½¿ç”¨ï¼Œæˆç†Ÿç¨³å®š

#### 2. Argon2ï¼ˆæœ€æ–°æ¨èï¼‰
```javascript
const argon2 = require('argon2');

// åŠ å¯†
const hash = await argon2.hash('admin');

// éªŒè¯
const isMatch = await argon2.verify(hash, 'admin');
```

**ä¼˜ç‚¹**ï¼š
- âœ… 2015 å¹´å¯†ç å“ˆå¸Œç«èµ›å† å†›
- âœ… æŠµæŠ— GPU å’Œ ASIC æ”»å‡»
- âœ… å†…å­˜å¯†é›†å‹
- âœ… ç›®å‰æœ€å®‰å…¨

### å®‰å…¨æ€§å¯¹æ¯”

| ç®—æ³• | é€Ÿåº¦ | æŠ—æš´åŠ›ç ´è§£ | æ¨èä½¿ç”¨ |
|------|------|-----------|---------|
| MD5 | æå¿« | âŒ æå¼± | âŒ ä¸æ¨è |
| SHA-256 | å¿« | âš ï¸ è¾ƒå¼± | âš ï¸ ä¸æ¨èå­˜å¯†ç  |
| Bcrypt | æ…¢ | âœ… å¼º | âœ… æ¨è |
| Argon2 | æ…¢ | âœ… æœ€å¼º | âœ…âœ… æœ€æ¨è |

## ğŸ› å¸¸è§é—®é¢˜

### Q1: ç™»å½•ååˆ·æ–°é¡µé¢éœ€è¦é‡æ–°ç™»å½•ï¼Ÿ
**A**: æ£€æŸ¥æµè§ˆå™¨æ˜¯å¦ç¦ç”¨äº† localStorageã€‚Token ä¿å­˜åœ¨ localStorage ä¸­å®ç°æŒä¹…åŒ–ç™»å½•ã€‚

### Q2: ä¿®æ”¹å¯†ç åæ— æ³•ç™»å½•ï¼Ÿ
**A**: 
1. æ£€æŸ¥æ–°å¯†ç æ˜¯å¦æ­£ç¡®
2. å¦‚æœä¿®æ”¹äº† Saltï¼Œéœ€è¦ç”¨æ–°å¯†ç  + æ–° Salt ç™»å½•
3. å¦‚æœå¿˜è®°å¯†ç ï¼Œéœ€è¦æ‰‹åŠ¨ä¿®æ”¹ KV ä¸­çš„æ•°æ®

### Q3: ç½®é¡¶ä¹¦ç­¾ä¸æ˜¾ç¤ºåœ¨æœ€å‰é¢ï¼Ÿ
**A**: å¼ºåˆ¶åˆ·æ–°é¡µé¢ï¼ˆCtrl+F5ï¼‰ï¼Œç¡®ä¿åŠ è½½æœ€æ–°ä»£ç ã€‚

### Q4: å›¾æ ‡æ— æ³•æ˜¾ç¤ºï¼Ÿ
**A**: 
1. æ£€æŸ¥ç½‘ç»œè¿æ¥ï¼ˆéœ€è¦è®¿é—® Google Favicon APIï¼‰
2. æŸäº›ç½‘ç«™å¯èƒ½æ²¡æœ‰ Favicon
3. ä¼šè‡ªåŠ¨æ˜¾ç¤ºé¦–å­—æ¯ä½œä¸ºæ›¿ä»£

### Q5: API è¯·æ±‚å¤±è´¥ï¼Ÿ
**A**: 
1. æ£€æŸ¥ Worker æ˜¯å¦æ­£å¸¸è¿è¡Œ
2. æ£€æŸ¥ API_URL æ˜¯å¦é…ç½®æ­£ç¡®
3. æ£€æŸ¥æµè§ˆå™¨æ§åˆ¶å°é”™è¯¯ä¿¡æ¯
4. ç¡®è®¤ CORS é…ç½®æ­£ç¡®

### Q6: å¦‚ä½•å¤‡ä»½æ•°æ®ï¼Ÿ
**A**: 
1. ç™»å½• Cloudflare Dashboard
2. è¿›å…¥ Workers & Pages â†’ KV
3. é€‰æ‹© WORLD_NAV_KV
4. æ‰¾åˆ° `db` é”®ï¼Œå¤åˆ¶å€¼
5. ä¿å­˜ä¸º JSON æ–‡ä»¶

### Q7: å¦‚ä½•æ¢å¤æ•°æ®ï¼Ÿ
**A**: 
1. åœ¨ KV é¡µé¢ç‚¹å‡» "Add entry"
2. Key è¾“å…¥ï¼š`db`
3. Value ç²˜è´´å¤‡ä»½çš„ JSON
4. ç‚¹å‡»ä¿å­˜



## ğŸ‘¨â€ğŸ’» ä½œè€…

Made with â¤ï¸ by [GoodGan](https://github.com/GoodGan)

---

**å¦‚æœè¿™ä¸ªé¡¹ç›®å¯¹ä½ æœ‰å¸®åŠ©ï¼Œè¯·ç»™ä¸ª â­ Starï¼**